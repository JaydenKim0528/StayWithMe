<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>DirEngine - Free Bootstrap 4 Template by Colorlib</title>
  <link th:insert="~{fragments/css.html :: css}"></link>
  <link rel="stylesheet" th:href="@{css/booking/booking.css}">


  <!-- jQuery -->
  <script
          type="text/javascript"
          src="https://code.jquery.com/jquery-1.12.4.min.js"
  ></script>
  <!-- iamport.payment.js -->
  <script
          type="text/javascript"
          src="https://cdn.iamport.kr/js/iamport.payment-1.2.0.js"
  ></script>
  <script>
    var IMP = window.IMP;
    IMP.init("imp67844376");

    function requestPay() {
      IMP.request_pay(
              {
                pg: "html5_inicis",		//KG이니시스 pg파라미터 값
                pay_method: "card",		//결제 방법
                merchant_uid: "1234578",//주문번호
                name: "당근 10kg",		//상품 명
                amount: 200,			//금액
                buyer_email: "gildong@gmail.com",
                buyer_name: "홍길동",
                buyer_tel: "010-4242-4242",
                buyer_addr: "서울특별시 강남구 신사동",
                buyer_postcode: "01181"

              },
              function (rsp) {
                //rsp.imp_uid 값으로 결제 단건조회 API를 호출하여 결제결과를 판단합니다.
                if (rsp.success) {
                  //서버 검증 요청 부분
                } else {
                  alert("결제에 실패하였습니다. 에러 내용: " + rsp.error_msg);
                }
              }
      );
    }
  </script>
</head>


<body style="background-color: #0c5460">

<nav th:insert="~{fragments/navbar.html :: navbar}"></nav>
<!-- END nav -->

<div class="hero-wrap js-fullheight" style="background-image: url('../static/images/bg_4.jpg');">
  <div class=""></div>
  <div class="">
    <div class="row no-gutters slider-text js-fullheight align-items-center justify-content-center" data-scrollax-parent="true">
      <div class="col-md-9 ftco-animate text-center" data-scrollax=" properties: { translateY: '70%' }">
        <p class="breadcrumbs" data-scrollax="properties: { translateY: '30%', opacity: 1.6 }"><span class="mr-2"><a href="index.html">Home</a></span> <span>Blog</span></p>
        <h1 class="mb-3 bread" data-scrollax="properties: { translateY: '30%', opacity: 1.6 }">예약</h1>
      </div>
    </div>
  </div>
</div>
<div class="container1">
  <div class="section">
    <h2>숙소 이름</h2>
    <h3>객실 이름</h3>
    <div class="form-group form-inline">
      <label for="check-in" style="flex: none;">입실일</label>
      <input type="text" id="check-in" placeholder="오후 1 : 00" readonly />
      <label for="check-out" style="flex: none;">퇴실일</label>
      <input type="text" id="check-out" placeholder="오전 11 : 00" readonly />
    </div>
    <div class="form-group">
      <label>최대 인원</label>
      <input type="text" placeholder="최대 인원 수" readonly />
    </div>
  </div>

  <div class="section">
    <h3>예약자 정보</h3>
    <div class="form-group">
      <label for="name">이름</label>
      <input type="text" id="name" placeholder="이름" />
    </div>
    <div class="form-group form-inline">
      <input type="text" id="phone" placeholder="전화번호" style="flex: 1;" />
      <button type="button" onclick="showVerificationInput()">인증하기</button>
    </div>
    <div class="form-group" id="verification-group" style="display: none;">
      <label for="verification-code">인증번호</label>
      <input type="text" id="verification-code" placeholder="인증번호 입력" disabled />
      <button type="button" onclick="verifyCode()">인증하기</button>
      <div id="timer" class="hidden">05:00</div>
      <a href="#" id="resend-code" class="hidden" onclick="resetTimer(event)">인증번호 다시받기</a>
    </div>
    <div class="form-group checkbox-group">
      <input type="checkbox" id="sameAsBooker">
      <label for="sameAsBooker" style="display: inline; margin-left: 5px;">예약자와 동일</label>
    </div>
  </div>

  <div class="section">
    <label for="coupon">쿠폰</label>
    <div class="button-group">
      <select id="coupon">
        <option value="" selected>선택안함</option>
        <option value="terms1">이용약관 1</option>
        <option value="terms2">이용약관 2</option>
      </select>
      <button>적용</button>
    </div>
  </div>

  <div class="section terms">
    <h3>이용약관</h3>
    <label><input type="checkbox" id="term1"> 샬라샬라</label>
    <label><input type="checkbox" id="term2"> 샬라샬라</label>
    <label><input type="checkbox" id="term3"> 샬라샬라</label>
    <label><input type="checkbox" id="term4"> 샬라샬라</label>
  </div>
  <div>
    <h3>30000</h3>
    <h1>1  2000</h1>
  </div>
  <button type="button" onclick="requestPay()" >결제하기</button>
</div>



<script>
  let timerInterval;

  function showVerificationInput() {
    document.getElementById('verification-group').style.display = 'block';
    document.getElementById('verification-code').disabled = false;
    document.getElementById('timer').classList.remove('hidden');
    document.getElementById('resend-code').classList.remove('hidden');
    startTimer();
  }

  function startTimer() {
    clearInterval(timerInterval);
    let time = 300; // 5 minutes in seconds
    const timerElement = document.getElementById('timer');

    timerInterval = setInterval(() => {
      let minutes = Math.floor(time / 60);
      let seconds = time % 60;

      minutes = minutes < 10 ? '0' + minutes : minutes;
      seconds = seconds < 10 ? '0' + seconds : seconds;

      timerElement.textContent = `${minutes}:${seconds}`;

      if (time <= 0) {
        clearInterval(timerInterval);
        document.getElementById('verification-code').disabled = true;
        alert('시간이 초과되었습니다. 다시 인증번호를 받아주세요.');
      }

      time--;
    }, 1000);
  }

  function resetTimer(event) {
    event.preventDefault();
    startTimer();
  }

  function verifyCode() {
    // 인증번호 검증 로직을 추가하세요
    alert('인증이 완료되었습니다.');
  }
</script>


<div th:insert="~{fragments/footer.html :: footer}"></div>
<!-- loader -->
<div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>

</body>
<div th:insert="~{fragments/js.html :: js}"></div>
</html>
